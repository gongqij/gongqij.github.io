<!doctype html><html lang=en>
<head>
<title>
Posts
</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content>
<meta name=keywords content>
<meta name=robots content="noodp">
<link rel=canonical href=/posts/>
<link rel=stylesheet href=/assets/style.css>
<link rel=stylesheet href=/style.css>
<link rel=apple-touch-icon-precomposed sizes=144x144 href=/img/apple-touch-icon-144-precomposed.png>
<link rel="shortcut icon" href=/favicon.png>
<link href=/assets/fonts/Inter-Italic.woff2 rel=preload type=font/woff2 as=font crossorigin>
<link href=/assets/fonts/Inter-Regular.woff2 rel=preload type=font/woff2 as=font crossorigin>
<link href=/assets/fonts/Inter-Medium.woff2 rel=preload type=font/woff2 as=font crossorigin>
<link href=/assets/fonts/Inter-MediumItalic.woff2 rel=preload type=font/woff2 as=font crossorigin>
<link href=/assets/fonts/Inter-Bold.woff2 rel=preload type=font/woff2 as=font crossorigin>
<link href=/assets/fonts/Inter-BoldItalic.woff2 rel=preload type=font/woff2 as=font crossorigin>
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Posts">
<meta name=twitter:description content>
<meta property="og:title" content="Posts">
<meta property="og:description" content>
<meta property="og:type" content="website">
<meta property="og:url" content="/posts/"><meta property="og:site_name" content="K:)eep">
<link rel=alternate type=application/rss+xml href=/posts/index.xml title=K:)eep>
</head>
<body>
<div class=container>
<header class=header>
<span class=header__inner>
<a href=/ class=logo style=text-decoration:none>
<span class=logo__text>K:)eep</span>
</a>
<span class=header__right>
<nav class=menu>
<ul class="menu__inner menu__inner--desktop">
<li><a href=https://github.com/gongqij>Github</a></li>
<li><a href=/>Home</a></li>
<li><a href=/posts/readlist>ReadList</a></li>
<li><a href=/posts/wechat>WeChat</a></li>
</ul>
<ul class="menu__inner menu__inner--mobile">
<li><a href=https://github.com/gongqij>Github</a></li>
<li><a href=/>Home</a></li>
<li><a href=/posts/readlist>ReadList</a></li>
<li><a href=/posts/wechat>WeChat</a></li>
</ul>
</nav>
<span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
</span>
<span class=theme-toggle><svg style="width:24px;height:24px" viewBox="0 0 24 24"><path fill="currentcolor" d="M12 6a6 6 0 016 6c0 2.22-1.21 4.16-3 5.2V19a1 1 0 01-1 1H10A1 1 0 019 19V17.2C7.21 16.16 6 14.22 6 12a6 6 0 016-6m2 15v1a1 1 0 01-1 1H11a1 1 0 01-1-1V21h4m6-10h3v2H20V11M1 11H4v2H1V11M13 1V4H11V1h2M4.92 3.5 7.05 5.64 5.63 7.05 3.5 4.93 4.92 3.5M16.95 5.63 19.07 3.5 20.5 4.93 18.37 7.05 16.95 5.63z"/></svg>
</span>
</span>
</span>
</header>
<div class=content>
<div class=posts>
<div class="post on-list">
<h1 class=post-title><a href=/posts/rust%E5%AD%A6%E4%B9%A0/>Rust学习</a></h1>
<div class=post-meta>
<span class=post-date>
2021-12-01
</span>
<span class=post-author>— By : gq</span>
<span class=post-read-time>— 7 min read</span>
</div>
<div class=post-content>
Rust 静态类型语言 Rust是静态类型语言，在编译时就必须知道所有变量的类型。
动态语言是指运行期间可以改变其结构的语言：例如增加或者删除函数、对象、甚至代码。比如JavaScript、Objective-C、Ruby、Python等，而C、C++等语言则不属于动态语言。静态语言与动态语言相反，在运行时不能改变其结构。尽管静态语言可以通过复杂的手段实现动态语言的特性，但是动态语言提供了直接的方法实现语言的动态性。
动态类型语言是指在运行期间才去做数据类型检查的语言。在用动态语言编程时，不用给变量指定数据类型，第一次赋值给变量时，在内部将数据类型记录下来。JavaScript、Ruby、Python是典型的动态类型语言。静态类型语言与动态类型语言刚好相反，它的数据类型检查发生在在编译阶段，也就是说在写程序时要声明变量的数据类型。C/C++、C#、Java都是静态类型语言的典型代表。
大部分动态语言是动态类型的，但是不是所有都是。
一、依赖管理&ndash;cargo source 默认路径 ～/.cargo/config
[source.crates-io] registry = &ldquo;https://github.com/rust-lang/crates.io-index" replace-with = &lsquo;ustc&rsquo; [source.ustc] registry = &ldquo;git://mirrors.ustc.edu.cn/crates.io-index&rdquo;
cargo.lock cargo.lock相当于依赖锁，除非在cargo.toml中手动指定了其他依赖版本，否则编译时依赖版本始终保持不变，即项目构建可重现
cargo update cargo update会忽略cargo.lock，并计算出所有符合 Cargo.toml 声明的最新版本。如果成功了，Cargo 会把这些版本写入 Cargo.lock 文件。
注意：（当前版本0.5.5）
Cargo 默认只会寻找大于 0.5.5 而小于 0.6.0 的版本。如果 rand crate 发布了两个新版本，0.5.6 和 0.6.0，会更新到0.5.6，如果想要使用 0.6.0 版本的 rand 或是任何 0.6.x 系列的版本，需要修改cargo.toml
cargo doc &ndash;open 以文档形式查看本地项目的所有依赖
Rust 有一个静态强类型系统，同时也有类型推断 整数类型的变量默认为i32，不能和string类型进行比较，但是可以和u32类型作比较（rust的类型推断）
二、数据类型 常量 例如：const MAX_POINTS: u32 = 100_000;
</div>
<div>
<a class="read-more button" href=/posts/rust%E5%AD%A6%E4%B9%A0/>Read more →</a>
</div>
</div>
<div class="post on-list">
<h1 class=post-title><a href=/posts/channel/>go之channel</a></h1>
<div class=post-meta>
<span class=post-date>
2021-11-30
</span>
<span class=post-author>— By : gq</span>
<span class=post-read-time>— 17 min read</span>
</div>
<div class=post-content>
channel channel的作用 goroutine之间安全通信
hchan mutex
goroutine之间数据传递
FIFO语义
copying into and out of hchan buffer
先从 Channel 读取数据的 Goroutine 会先接收到数据； 先向 Channel 发送数据的 Goroutine 会得到先发送数据的权利； 可以使得goroutine阻塞和唤醒
hchan sudog queues
calls into the runtime scheduler(gopark, goready)
设计原理 ​ 多线程使用共享内存传递数据
​ Goroutine 使用 Channel 传递数据
先入先出 目前的 Channel 收发操作均遵循了先入先出（FIFO）的设计，具体规则如下：
先从 Channel 读取数据的 Goroutine 会先接收到数据； 先向 Channel 发送数据的 Goroutine 会得到先发送数据的权利； 数据结构 Channel 在运行时的内部表示是 runtime.
</div>
<div>
<a class="read-more button" href=/posts/channel/>Read more →</a>
</div>
</div>
<div class="post on-list">
<h1 class=post-title><a href=/posts/readlist/>ReadList</a></h1>
<div class=post-meta>
<span class=post-date>
2021-11-30
</span>
<span class=post-author>— By : gq</span>
<span class=post-read-time>— 1 min read</span>
</div>
<div class=post-content>
技术类 Designing Data-Intensive Application http2-explained、http3-explained 高性能mysql CSAPP 3rd 代码整洁之道 架构整洁之道 领域驱动设计 设计模式 重构 systems performance 人月神话 文学类 如何阅读一本书 荷马：《伊利亚特》《奥德赛》 《旧约》 埃斯库罗斯：悲剧 索福克勒斯：悲剧 希罗多德：《历史》 欧里庇得斯：悲剧（特别是《美狄亚》《希波利图斯》《酒神的女祭司们》） 修昔底德：《伯罗奔尼撒战争史》 希波克拉底：医学著作 阿里斯托芬：喜剧（特别是《云》《鸟》《蛙》） 柏拉图：对话录（特别是《理想国》《会饮篇》《斐多篇》《美诺篇》《申辩篇》《斐德若篇》《诡辩篇》《高尔吉亚篇》《智者篇》《泰阿泰德篇》） 亚里士多德：著作（特别是《工具论》《物理学》《形而上学》《灵魂论》《尼各马可伦理学》《政治学》《修辞学》《诗学》） 伊壁鸠鲁：《致希罗多德的信》《致美诺西斯的信》 欧几里得：《几何原理》 阿基米德：著作（特别是《论平面图形的平衡》《论浮体》《沙粒的计算》） 阿波罗尼：《圆锥曲线论》 西塞罗：著作（特别是《演说集》《论友谊》《论老年》） 卢克莱修：《物性论》 维吉尔：著作 贺拉斯：著作（特别是《颂歌与长短句》《诗艺》） 李维：《罗马史》 奥维德：著作（特别是《变形记》） 普鲁塔克：《希腊罗马名人传》 塔西佗：《历史》《编年史》《农业志》《日耳曼尼亚志》 尼科马库斯：《数学入门》 爱比克泰德：《论说集》《手册》 托勒密：《天文学大成》 卢西安：著作（特别是《历史写作方法》《真实的故事》《待售的哲学》） 奥勒留：《沉思录》 盖伦：《论自然机能》 新约 普罗提诺：《九章集》 圣奥古斯丁：著作（特别是《论教师》《忏悔录》《上帝之城》《基督教教义》） 罗兰之歌 尼布龙根之歌 萨加（北欧神话） 托马斯·阿奎那：《神学大全》 但丁：著作（特别是《新生》《论世界帝国》《神曲》） 乔叟：著作（特别是《特洛伊罗斯与克里希达》《坎特伯雷故事集》） 达芬奇：《笔记》 马基雅维利：《君主论》《论李维前十书》 伊拉斯谟：《愚人颂》 哥白尼：《天体运行论》 托马斯·莫尔：《乌托邦》 马丁·路德：《三檄文》《席间谈》 拉伯雷：《巨人传》 约翰·加尔文：《基督教教义》 蒙田：《随笔》 威廉·吉尔伯特：《磁石论》 塞万提斯：《堂吉诃德》 埃德蒙·斯宾塞：《婚前曲》《仙后》 弗朗西斯·培根：《随笔》《学术的进步》《新工具》《新大西岛》 莎士比亚：著作 伽利略：《星际使者》《论两种新科学及其数学演化》 开普勒：《哥白尼天文学概要》《论世界的和谐》 威廉·哈维：《动物的心血运行论》《论血液循环》《论动物的生殖》 托马斯·霍布斯：《利维坦》 勒内·笛卡尔：《指导心智的规则》《论方法》《几何学》《第一哲学沉思录》 约翰·弥尔顿：著作（特别是短诗、《论出版自由》《失乐园》《力士参孙》） 莫里哀：喜剧（特别是《守财奴》《太太学堂》《恨世者》《讨厌自己的医生》《答丢夫》） 帕斯卡：《致外省人信札》《思想录》《科学论文》 克里斯蒂安·惠更斯：《光学论》 斯宾诺莎：《伦理学》 约翰·洛克：《论宽容》《政府论》《人类理解论》 让-巴蒂斯特·拉辛：悲剧（特别是《昂朵马格》《费德尔》） 牛顿：《自然哲学的数学原理》《光学》 莱布尼茨：《形而上学序论》《人类理智新论》《单子论》 丹尼尔·笛福：《鲁滨逊漂流记》 乔纳森·斯威夫特：《木桶的故事》《致斯黛拉小札》《格列弗游记》《一个小小的建议》 威廉·康格里夫：《如此世道》 乔治·贝克莱：《人类知识原理》 亚历山大·蒲伯：《论批评》《鬈发历劫记》《论人》 孟德斯鸠：《波斯人信札》《论法的精神》 伏尔泰：《英国书简》《赣第德》《哲学词典》 亨利·菲尔丁：《约瑟夫·安德鲁斯》《汤姆·琼斯》 塞缪尔·约翰逊：《人类希望的虚妄》《英语词典》《拉塞拉斯》《诗人传》 大卫·休谟：《人性论》《道德和政治论文集》《人类理解研究》 让-雅克·卢梭：《论人类不平等的起源和基础》《论政治经济学》《爱弥儿》《社会契约论》 劳伦斯·斯特恩：《特利斯特拉姆·香第》《多情客游记》 亚当·斯密：《道德情操论》《国富论》 康德：《纯粹理性批判》《道德形而上学原理》《实践理性批判》《法的形而上学原理：权利的科学》《判断力批判》《永久和平论》 爱德华·吉朋：《罗马帝国衰亡史》《自传》 詹姆斯·鲍斯威尔：《日记》《约翰逊博士传》 拉瓦锡：《化学原理》 约翰·杰、詹姆斯·麦迪逊、亚历山大·汉密尔顿：《联邦党人文集》（连同《邦联和永久联合条例》《美国宪法》《独立宣言》） 杰里米·边沁：《道德与立法原理导论》《虚构理论》 歌德：《浮士德》《诗与真》 让·巴普蒂斯·约瑟夫·傅里叶：《热的分析理论》 黑格尔：《精神现象学》《法哲学原理》《历史哲学讲演录》 威廉·华兹华斯：诗集（特别是《抒情歌谣集》《露茜组诗》《十四行诗》《序曲》） 塞缪尔·柯勒律治：诗集（特别是《忽必烈汗》《古舟子咏》）、《文学传记》 简·奥斯汀：《傲慢与偏见》《爱玛》 卡尔·冯·克劳塞维茨：《战争论》 司汤达：《红与黑》《帕玛修道院》《爱情论》 拜伦：《唐璜》 叔本华：《悲观论集》 法拉第：《蜡烛的化学史》《电学实验研究》 查尔斯·莱尔：《地质学原理》 奥古斯特·孔德：《实证哲学》 巴尔扎克：《高老头》《欧也妮·葛朗台》 拉尔夫·瓦尔多·爱默生：《代表人物》《随笔》《日记》 纳撒尼尔·霍桑：《红字》 阿列克西·德·托克维尔：《论美国的民主》 约翰·斯图尔特·密尔：《逻辑体系》《论自由》《代议制政府》《功利主义》《论妇女的屈从地位》《自传》 查尔斯·达尔文：《物种起源》《人类的由来》《自传》 查尔斯·狄更斯：著作（特别是《匹克威克外传》《大卫·科波菲尔》《艰难时世》） 克劳德·贝尔纳：《实验医学研究导论》 亨利·大卫·梭罗：《论公民的不顺从》《瓦尔登湖》 卡尔·马克思：《资本论》（连同《共产党宣言》） 乔治·爱略特：《亚当·贝德》《米德尔马契》 赫尔曼·麦克维尔：《莫比·迪克》（白鲸记）《比利·巴德》 陀思妥耶夫斯基：《罪与罚》《白痴》《卡拉马佐夫兄弟》 古斯塔夫·福楼拜：《包法利夫人》《三故事》 亨利克·易卜生：戏剧（特别是《海达·高布乐》《玩偶之家》《野鸭》） 列夫·托尔斯泰：《战争与和平》《安娜·卡列尼娜》《何谓艺术？》《二十三个故事》 马克·吐温：《哈克贝利历险记》《神秘陌生人》 威廉·詹姆斯：《心理学原理》《宗教经验之种种》《实用主义》《彻底经验主义论文集》 亨利·詹姆斯：《美国人》《奉使记》 尼采：《查拉图斯特拉如是说》《超越善恶》《道德谱系学》《强力意志》 朱尔·亨利·彭加勒：《科学与假设》《科学与方法》 西格蒙德·弗洛依德：《释梦》《精神分析引论》《文明及其不满》《精神分析引论新编》 萧伯纳：戏剧（以及前言，特别是《人与超人》《芭芭拉少校》《恺撒和克里奥佩特拉》《卖花女》《圣女贞德》） 马克斯·普朗克：《量子理论的起源与发展》《科学往何处去？》《科学自传》 亨利·柏格森：《时间与自由意志》《物质与记忆》《创造进化论》《道德和宗教的两个来源》 约翰·杜威：《我们怎样思想？》《民主与教育》《经验与自然》《逻辑：探索的理论》 阿尔佛雷德·诺思·怀特海：《数学导论》《科学与近代世界》《教育的目标及其他论文》《观念的探险》 乔治·桑塔亚纳：《理性的生活》《怀疑主义与动物信仰》《人与地》 尼古拉·列宁：《国家与革命》 普鲁斯特：《追忆似水年华》 伯特兰·罗素：《哲学问题》《心的分析》《意义和真理的探究》《人类知识：其范围和限度》 托马斯·曼：《魔山》《约瑟和他的兄弟们》 阿尔伯特·爱因斯坦：《相对论的意义》《论理论物理学的方法》《物理学的进化》（与L.
</div>
<div>
<a class="read-more button" href=/posts/readlist/>Read more →</a>
</div>
</div>
<div class="post on-list">
<h1 class=post-title><a href=/posts/wechat/>WeChat</a></h1>
<div class=post-meta>
<span class=post-date>
2021-11-30
</span>
<span class=post-author>— By : gq</span>
<span class=post-read-time>— 0 min read</span>
</div>
<div class=post-content>
</div>
<div>
<a class="read-more button" href=/posts/wechat/>Read more →</a>
</div>
</div>
<div class="post on-list">
<h1 class=post-title><a href=/posts/go%E4%B9%8B%E5%90%8C%E6%AD%A5%E5%8E%9F%E8%AF%AD%E4%B8%8E%E9%94%81/>go之同步原语</a></h1>
<div class=post-meta>
<span class=post-date>
2021-11-29
</span>
<span class=post-author>— By : gq</span>
<span class=post-read-time>— 6 min read</span>
</div>
<div class=post-content>
同步原语与锁 Mutex 数据结构 type Mutex struct { state int32 //表示当前互斥锁的状态 sema uint32 //用于控制锁状态的信号量 } 互斥锁的状态 互斥锁的状态比较复杂，如下图所示，最低三位分别表示 mutexLocked、mutexWoken 和 mutexStarving，剩下的位置用来表示当前有多少个 Goroutine 等待互斥锁的释放：
图 6-6 互斥锁的状态
在默认情况下，互斥锁的所有状态位都是 0，int32 中的不同位分别表示了不同的状态：
mutexLocked — 表示互斥锁的锁定状态； mutexWoken — 表示从正常模式被从唤醒； mutexStarving — 当前的互斥锁进入饥饿状态； 互斥锁的正常模式和饥饿模式 sync.Mutex 有两种模式 — 正常模式和饥饿模式。我们需要在这里先了解正常模式和饥饿模式都是什么，它们有什么样的关系。
在正常模式下，锁的等待者会按照先进先出的顺序获取锁。但是刚被唤起的 Goroutine 与新创建的 Goroutine 竞争时，大概率会获取不到锁，为了减少这种情况的出现，一旦 Goroutine 超过 1ms 没有获取到锁，它就会将当前互斥锁切换饥饿模式，防止部分 Goroutine 被『饿死』。
图 6-7 互斥锁的正常模式与饥饿模式
饥饿模式是在 Go 语言 1.9 版本引入的优化1，引入的目的是保证互斥锁的公平性（Fairness）。
在饥饿模式中，互斥锁会直接交给等待队列最前面的 Goroutine。新的 Goroutine 在该状态下不能获取锁、也不会进入自旋状态，它们只会在队列的末尾等待。如果一个 Goroutine 获得了互斥锁并且它在队列的末尾或者它等待的时间少于 1ms，那么当前的互斥锁就会被切换回正常模式。
</div>
<div>
<a class="read-more button" href=/posts/go%E4%B9%8B%E5%90%8C%E6%AD%A5%E5%8E%9F%E8%AF%AD%E4%B8%8E%E9%94%81/>Read more →</a>
</div>
</div>
<div class="post on-list">
<h1 class=post-title><a href=/posts/linux%E7%9B%B8%E5%85%B3%E6%8C%87%E4%BB%A4/>linux相关指令</a></h1>
<div class=post-meta>
<span class=post-date>
2021-11-29
</span>
<span class=post-author>— By : gq</span>
<span class=post-read-time>— 4 min read</span>
</div>
<div class=post-content>
Ubuntu命令大全 apt-get apt-get update:更新安装列表 apt-get upgrade:升级软件 apt-get install software_name :安装软件 apt-get &ndash;purge remove software_name :卸载软件及其配置 apt-get autoremove software_name:卸载软件及其依赖的安装包
罗列已安装软件 dpkg &ndash;list
//安装.debtmpfs 7.8G 133M 7.7G 2% /tmp /dev/sda 1.8T 155G 1.6T 9% /home/gongqi/MountFiles /dev/sdb1 300M 280K 300M 1% /boot/efi /dev/loop1 32M 32M 0 100% /var/lib/snapd/snap/snapd/10707
​ sudo dpkg -i &lt;package.deb>
sudo uname -m
查看Ubuntu系统的位数
界面切换 ctrl+alt+f2 //命令行界面
ctrl+alt+f7 // 图形界面
查看帮助 &ndash;help
</div>
<div>
<a class="read-more button" href=/posts/linux%E7%9B%B8%E5%85%B3%E6%8C%87%E4%BB%A4/>Read more →</a>
</div>
</div>
<div class="post on-list">
<h1 class=post-title><a href=/posts/my-first-post/>My First Post</a></h1>
<div class=post-meta>
<span class=post-date>
2021-11-29
</span>
<span class=post-author>— By : gq</span>
<span class=post-read-time>— 1 min read</span>
</div>
<div class=post-content>
</div>
<div>
<a class="read-more button" href=/posts/my-first-post/>Read more →</a>
</div>
</div>
<div class=pagination>
<div class=pagination__buttons>
<span class="button next">
<a href=/posts/page/2/>
<span class=button__text>Older posts</span>
<span class=button__icon>→</span>
</a>
</span>
</div>
</div>
</div>
</div>
<footer class=footer>
<div class=footer__inner>
<a href=/ class=logo style=text-decoration:none>
<span class=logo__text>K:)eep</span>
</a>
<div class=copyright>
<span>© 2021 Powered by
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a></span>
</div>
</div>
</footer>
<script src=/assets/main.js></script>
<script src=/assets/prism.js></script>
</div>
</body>
</html>